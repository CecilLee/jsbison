<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<script src="../node_modules/lodash/lodash.js"></script>
<script src="../src/datatypes.js"></script>
<script src="../src/lex-parser.js"></script>
<script src="../src/bnf-parser.js"></script>
<script src="../src/lexer.js"></script>
<script src="../src/generator.js"></script>
<script src="./testcfg.js"></script>
</head>
<body>
<script>


debugger
var start = +new Date
/*
var generator = new Generator({
    lex: {
        'rules':[
            {'regex': /\d+?/, 'action':'return "NUMBER";'},
            {'regex': /123/, 'action':'return "NUMBER";'}
        ]
    },
    type: 'LR(1)',
    start: 's',
    bnf: {
        's': {
            'NUMBER': 'this.$$ = $1'
        }
    }
});
*/
var generator = new Generator(testcfg);
console.log(+new Date - start);
debugger

console.log(generator);
console.log(generator.toString());
var parserCode = generator.generate();
var parser = eval(parserCode);
if(parser.parse('ab',true)){
    alert(parser.lexer.input + '=' + parser.$$);
}


</script>
</body>
</html>
