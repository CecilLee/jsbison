<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<script src="../node_modules/lodash/lodash.js"></script>
<script src="../src/datatypes.js"></script>
<script src="../src/lexer.js"></script>
<script src="../src/generator.js"></script>
</head>
<body>
<script>

var generator = new Generator({
    tokens: '+ * ( ) NUMBER',
    start: 'expr',


    lex: [
        {
            regex: /\d+/,
            token: 'NUMBER'
        },
        {
            regex: /\+/,
            token: '+'
        },
        {
            regex: /\*/,
            token: '*'
        },
        {
            regex: /\(/,
            token: '('
        },
        {
            regex: /\)/,
            token: ')'
        }
    ],


    /*
    type: 'LL(1)',
    bnf: {
        "expr": {
            "term rexpr" : "alert($1);"
        },
        "rexpr": {
            "+ term rexpr": "",
            "":  ""
        },
        "term": {
            "factor rterm": ""
        },
        "rterm": {
            "* factor rterm": "",
            "": ""
        },
        "factor": {
            "NUMBER": "return $1;",
            "( expr )": "return $2;"
        }
    },
    */


    type: 'LR(1)',
    bnf: {
        'expr': {
            'expr + term': '$$ = $1 + $3',
            'term': '$$ = $1'
        },
        'term': {
            'term * factor': '$$ = $1 * $3',
            'factor': '$$ = $1'
        },
        'factor': {
            '( expr )': '$$ = $2',
            'NUMBER': '$$ = $1'
        }
    }


});

console.log(generator);
console.log(generator.toString());

console.log(generator.parse('1+2*3'));



</script>
</body>
</html>
